<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="application-name" content="Inside My Mind - Kurt Lourens">
    <title>Flutter CI Android App Bundle 📦 - Inside My Mind</title>

    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">

    <link rel="index" href="https://blog.kurtlourens.com/">
    <meta name="referrer" content="no-referrer">
    <link rel="manifest" href="/manifest.json">
    <link rel="author" href="/humans.txt">
    <link rel="me" href="mailto:hi@kurtlourens.com">
    <link rel="me" href="https://kurtlourens.com" type="text/html">
    <link rel="search" href="opensearch.xml" type="application/opensearchdescription+xml" title="Search Title">
    <meta name="theme-color" content="#7986cb">
    <meta name="subject" content="This is where I write about my Dev experiences, and anything else I think is worth reading 😁">
    <meta name="description" content="This is where I write about my Dev experiences, and anything else I think is worth reading 😁">
    <meta name="rating" content="General">
    <meta name="robots" content="index,follow">

    <!-- Google -->
    <meta name="googlebot" content="index,follow">
    <meta name="google" content="nositelinkssearchbox">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Apple -->
    <link rel="apple-touch-icon" type="image/png" sizes="x76" href="/assets/favicon/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" type="image/png" sizes="x114" href="/assets/favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" type="image/png" sizes="x120" href="/assets/favicon/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" type="image/png" sizes="x144" href="/assets/favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" type="image/png" sizes="x152" href="/assets/favicon/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="" color="#7986cb">
    <!-- <link rel="apple-touch-startup-image" href="/path/to/launch.png"> -->
    <meta name="apple-mobile-web-app-title" content="Inside My Mind - Kurt Lourens">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#7986cb">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@AssistantNMS">
    <meta name="twitter:creator" content="@KhaozTopsy">
    <meta name="twitter:url" content="https://blog.kurtlourens.com/">
    <meta name="twitter:title" content="Inside My Mind - Kurt Lourens">
    <meta name="twitter:description" content="This is where I write about my Dev experiences, and anything else I think is worth reading 😁">
    <meta name="twitter:image" content="https://blog.kurtlourens.com/posts/flutter-ci-android-app-bundle-aab/cover.png">
    <meta name="twitter:image:alt" content="Logo of AssistantNMS">

    <!-- Facebook -->
    <meta property="og:url" content="https://blog.kurtlourens.com/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Inside My Mind">
    <meta property="og:image" content="https://blog.kurtlourens.com/posts/flutter-ci-android-app-bundle-aab/cover.png">
    <meta property="og:image:alt" content="Logo of AssistantNMS">
    <meta property="og:description" content="This is where I write about my Dev experiences, and anything else I think is worth reading 😁">
    <meta property="og:site_name" content="Inside My Mind">
    <meta property="og:locale" content="en_UK">
    <meta property="article:author" content="Kurt Lourens">

    <!-- Microsoft -->
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="skype_toolbar" content="skype_toolbar_parser_compatible">
    <meta name="msapplication-config" content="browserconfig.xml">
    <meta name="msapplication-TileColor" content="#7986cb">
    <meta name="msapplication-starturl" content="/?pwa-app" />

    <link rel="preload" as="image" href="/assets/img/loader.svg">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <link href="https://fonts.googleapis.com/css2?family&#x3D;Blinker:wght@100;300;400;600&amp;display&#x3D;swap" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/bulma.min.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/bulma.dark.min.css">

    <link rel="stylesheet" href="/assets/css/highlight/default.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/highlight/atom-one-dark-reasonable.min.css">

    <link rel="stylesheet" href="/assets/css/site.css?v=0.0.22">

    <noscript>
        <link rel="stylesheet" href="/assets/css/noscript.css" />
    </noscript>

    <style>
        :root {
            --blog-font-family: 'Blinker'
        }
    </style>

    <script nonce="schema" type="application/ld+json">{
    "@context": "https://schema.org/",
    "@type": "Person",
    "name": "{{owner.name}}",
    "givenName": "{{owner.name}}",
    "familyName": "{{owner.name}}",
    "additionalName": "{{owner.additionalName}}",
    "url": "{{baseUrl}}",
    "image": "{{owner.image}}",
    "description": "{{meta.description}}",
    "jobTitle": "{{owner.jobTitle}}",
    "owns": [
        {
            "@type": "OwnershipInfo",
            "name": "{{meta.title}}",
            "url": "{{baseUrl}}"
        }
    ]
}</script>
</head>
<body id="blog-body" class="is-loading">
    <nav class="navbar post">
        <div class="navbar-brand">
            <a class="navbar-item" href="/" title="Inside My Mind - Kurt Lourens">
                <img src="/assets/img/logo.png" alt="Inside My Mind - Kurt Lourens" />
            </a>
        </div>
    
        <div class="navbar-menu">
            <div class="navbar-start">
                <div class="navbar-item">
                    Inside My Mind — Flutter CI Android App Bundle 📦
                </div>
            </div>
        </div>
    
        <div class="progress-wrapper">
            <div class="progress"></div>
        </div>
    </nav>
    <div class="post-wrapper inner">
        <b class="meta">
            <span class="upper-case">7 August 2019
                &nbsp;&nbsp;/&nbsp;&nbsp;Flutter
            </span>
        </b>
        <h1>Flutter CI Android App Bundle 📦</h1>

        <div class="content">
            <div class="cover" style="background-image: url(/posts/flutter-ci-android-app-bundle-aab/cover.png)"></div>
            <div class="markdown-content">
                <p>Not too long ago, I received an email from Google Play, letting me know that from the 1st of August 2019, they would be requiring me to upload 64-bit versions of my apps if I wished to update my apps.</p>
<p><img src="ohNoes.gif" alt="Oh Noes!"></p>
<p>In a panic I reached for the nearest search engine and frantically typed in <code>Flutter build android 64-bit</code> and went down the rabbit hole.</p>
<p>At some point I found articles saying that there is a new preferred format to submit Android Apps to the Play Store, AAB or Android App Bundle. This format came with a few improvements:</p>
<ul>
<li>Faster Build times</li>
<li>Smaller App size</li>
<li>No longer need to maintain multiple APKs</li>
</ul>
<p><img src="soundsGoodToMe.gif" alt="Sounds good to me, where do I sign?"></p>
<h2>Continuous Integration</h2>
<p>In my previous <a href="https://blog.kurtlourens.com/flutter-with-ci-cd/">article</a> about setting up a CI CD pipeline for building a Flutter app and having it be deployed to the Play Store , I used this Azure Devops Marketplace extension: <a href="https://marketplace.visualstudio.com/items?itemName=aloisdeniel.flutter">aloisdeniel.flutter</a>. Thankfully the extension has been receiving updates and you can go check out it's github <a href="https://github.com/aloisdeniel/vsts-flutter-tasks">here</a>. But the updates were not coming fast enough for my liking.</p>
<p>At the time of writing a github user, <a href="https://github.com/Tregan">Tregan</a>, has a pull request that would add AAB support to the Flutter extension, but since the pull request hasn't been merged, none of us can use the feature.</p>
<p>So I forked the repository and created an Azure Devops Marketplace extension: <a href="https://marketplace.visualstudio.com/items?itemName=KurtLourens.aloisdenielfluttercopy">Flutter (AAB support)</a>. This extension is almost the same as <a href="https://marketplace.visualstudio.com/items?itemName=aloisdeniel.flutter">aloisdeniel.flutter</a> with the exception that it contains the AAB feature built by <a href="https://github.com/Tregan">Tregan</a>.</p>
<p><img src="downside.gif" alt="downside"></p>
<h2>Downside</h2>
<p>Using my Azure Devops Marketplace extension you will be able to generate a Android App Bundle, unfortunately at the time of writing the Devops task to Publish to the Google Play Store <a href="https://marketplace.visualstudio.com/items?itemName=ms-vsclient.google-play">ms-vsclient.google-play</a> does not allow for AAB files to be uploaded 😥. So you the uploading of your App to the Play Store will have to be a manual task for now 😞.</p>
<p>There is an <a href="https://github.com/microsoft/google-play-vsts-extension/issues/100">issue</a> open on github asking for this feature to be added, although it is (at the time of writing) over 14 months old. I don't have the energy or motivation to add this feature, but I have hope that someone will 😅</p>
<h2>Conclusion</h2>
<p>There are many ways to have your Flutter App build and deploy to the Play Store automatically, I may look into some of the alternatives to Azure Devops when I find the time. But for now I am happy with what Azure Devops has to offer.</p>
<p>Some alternatives for Flutter CI CD:</p>
<ul>
<li><a href="https://fastlane.tools/">Fastlane</a></li>
<li><a href="https://codemagic.io/">CodeMagic.io</a></li>
</ul>

            </div>
        </div>

        <br /><br />

        <div id="disqus_thread"></div>
    </div>

    <a href="/" title="Home" class="post-go-back">&nbsp;🠜</a>
    <div class="full-page-loader"></div>
    <div class="full-page-loader">
        <img src="/assets/img/loader.svg" draggable="false" alt="loading-animation">
    </div></body>

<script>
    window.config = {
        gtag: 'UA-97325462-3',
        posthog: 'phc_bS84eGionOtpDcJivDn5u3fRL9tvLut3UvGJEekLnvz',
    }
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-97325462-3"></script>

<script defer src="/assets/js/base.js?v=0.0.22"></script>
<script defer src="/assets/js/analytics.js?v=0.0.22"></script>
<script defer src="/assets/js/scroll.js?v=0.0.22"></script>


<script defer src="/assets/js/highlight.min.js"></script>
<script defer src="/assets/js/hljs-lang/bash.min.js"></script>



<script>
    var disqus_config = function () {
        this.page.url = "https://blog.kurtlourens.com/posts/flutter-ci-android-app-bundle-aab";
        this.page.identifier = "flutter-ci-android-app-bundle-aab";
    };

    (function () {
        var d = document, s = d.createElement('script');
        s.src = 'https://inside-my-mind-v2.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

</html>